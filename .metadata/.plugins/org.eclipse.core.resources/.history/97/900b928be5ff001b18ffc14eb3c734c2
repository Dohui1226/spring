<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board.BoardDAO">
	<insert id="newBoard" parameterType="boardVO">
		insert into t_board(no,title,writer,content)
		values(seq_t_board_no.nextval, #{title}, #{writer},#{content})
		<!-- 샵쓰면 작은따옴표 안써도됨 preparedstat라서 -->
		<!-- values(seq_t_board_no.nextval, '${title}', '${writer}','${content}') 
			달러쓰면 작은따옴표 써야함 stat라서 -->
	</insert>

	<resultMap type="boardVO" id="boardMap">
		<result column="view_cnt" property="viewCnt"></result>
		<!-- view_cnt 컬럼명을 보드VO의 viewCnt로 -->
		<result column="reg_date" property="regDate" />
	</resultMap>
	<select id="selectAllMap" resultMap="boardMap">
		select no,title,writer,content,view_cnt,
		to_char(reg_date, 'yyyy-mm-dd') reg_date from t_board order by no desc
		<!-- 오라클 컬럼과 VO명이 일치하지 않아서 VO명으로 이름을 바꿔서 출력해준다. -->
	</select>
	<select id="selectOne" resultMap="boardMap" parameterType="boardVO">
	select no,title,writer,view_cnt, to_char(reg_date, 'yyyy-mm-dd')reg_date from t_board
	where no= ?
	</select>

</mapper>